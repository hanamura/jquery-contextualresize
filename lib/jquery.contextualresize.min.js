(function(e){var t,n,r,i,s,o={};o.noScale=t=function(e,t,n,r){return n==null&&(n=.5),r==null&&(r=.5),{x:e.x+(e.width-t.width)*n,y:e.y+(e.height-t.height)*r,width:t.width,height:t.height}},o.showAll=n=function(e,n,r,i){var s,o,u;return r==null&&(r=.5),i==null&&(i=.5),o={x:n.x,y:n.y},n.width>0&&n.height>0&&(s=e.width/e.height,u=n.width/n.height,s>u?(o.width=n.width*(e.height/n.height),o.height=e.height):s<u?(o.width=e.width,o.height=n.height*(e.width/n.width)):(o.width=e.width,o.height=e.height)),t(e,o,r,i)},o.noBorder=r=function(e,n,r,i){var s,o,u;return r==null&&(r=.5),i==null&&(i=.5),o={x:n.x,y:n.y},n.width>0&&n.height>0&&(s=e.width/e.height,u=n.width/n.height,s>u?(o.width=e.width,o.height=n.height*(e.width/n.width)):s<u?(o.width=n.width*(e.height/n.height),o.height=e.height):(o.width=e.width,o.height=e.height)),t(e,o,r,i)},o.exactFit=i=function(e,t){return{x:e.x,y:e.y,width:e.width,height:e.height}},o.wall=s=function(e,r,i,s){return i==null&&(i=.5),s==null&&(s=.5),e.width>=r.width&&e.height>=r.height?t(e,r,i,s):n(e,r,i,s)},e.fn.contextualresize=function(t){var n=t&&t.method||"no-scale",r=t&&t.selector||null;return this.each(function(){var t=e(this),i=r?t.closest(r):t.parent();i.length||(i=t.parent());var s={"no-border":o.noBorder,"show-all":o.showAll,"exact-fit":o.exactFit,"no-scale":o.noScale,wall:o.wall}[n]||o.noScale,u=s({x:0,y:0,width:i.width(),height:i.height()},{x:0,y:0,width:parseInt(t.attr("width"))||t.width(),height:parseInt(t.attr("height"))||t.height()});t.css({width:u.width,height:u.height})})}})(jQuery);